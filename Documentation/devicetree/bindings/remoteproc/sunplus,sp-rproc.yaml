# SPDX-License-Identifier: (GPL-2.0-only or BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/remoteproc/sunplus,sp-rproc.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Sunplus Soc Co-Processor Bindings

maintainers:
  - Qin Jian <qinjian@cqplus1.com>

properties:
  compatible:
    const:
      - sunplus,sp-rproc

  firmware:
    description: |
      Should contain the name of the default firmware image
      file located on the firmware search path

  reg:
    maxItems: 1

  interrupts:
    maxItems: 1

  resets:
    maxItems: 1

  memory-region:
    minItems: 4
    maxItems: 8
    description: |
      phandle to the reserved memory nodes to be associated with the remoteproc
      device. There should be at least four reserved memory nodes defined. The
      reserved memory nodes should be carveout nodes, and should be defined as
      per the bindings in
      Documentation/devicetree/bindings/reserved-memory/reserved-memory.txt
    items:
      - description: region used for dynamic DMA allocations like vrings and
                     vring buffers
      - description: region reserved for firmware image sections
    additionalItems: true

required:
  - compatible
  - firmware
  - reg
  - interrupts
  - resets
  - memory-region

examples:
  - |
    remoteproc0: remoteproc@0 {
      compatible = "sunplus,sp-rproc";
      firmware = "firmware";
      reg = <0 0xf8007ffc 0 4>; /* mbox G255.31, cpu0 to cpu2 direct reg07 */
      interrupt-parent = <&gic>;
      interrupts = <GIC_SPI 125 IRQ_TYPE_LEVEL_HIGH>; /* CPU2_TO_0_DIRECT_INT7 */
      resets = <&rstc RST_CM4>;
      memory-region = <&rproc_0_reserved>, <&vdev0buffer>, <&vdev0vring0>, <&vdev0vring1>;
  };

...
